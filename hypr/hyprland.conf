##################################
###     MAIN HYPRLAND CONFIG   ###
##################################

### Include modular configuration files
### (keeps setup clean and easy to maintain)
source = ~/.config/hypr/variables.conf
source = ~/.config/hypr/colors.conf
source = ~/.config/hypr/decor.conf
source = ~/.config/hypr/monitors.conf
source = ~/.config/hypr/windowrules.conf
source = ~/.config/hypr/keybinds.conf


##################################
###        AUTOSTART           ###
##################################

# Launch essential background services
exec-once = waybar                          # Status bar
exec-once = swaync                          # Notification daemon
exec-once = ~/.config/hypr/scripts/wallpaperSelect.sh

# Apply GNOME/GTK theme settings
exec = gsettings set org.gnome.desktop.interface gtk-theme "Adwaita-dark"
exec = gsettings set org.gnome.desktop.interface color-scheme prefer-dark
exec = gsettings set org.gnome.desktop.interface icon-theme "Papirus"


##################################
###       ENVIRONMENT VARS      ###
##################################

# Cursor size (X11 and Wayland)
env = XCURSOR_SIZE,20
env = HYPRCURSOR_SIZE,20

# Force dark GTK theme globally
env = GTK_THEME, Adwaita-dark
env = GTK_APPLICATION_PREFER_DARK_THEME, 1


##################################
###       PERMISSIONS          ###
##################################

# Control which binaries can use sensitive features (security sandbox)
permission = /usr/(bin|local/bin)/grim, screencopy, allow
permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow
permission = /usr/(bin|local/bin)/hyprpm, plugin, allow

# Example: Uncomment to enable global enforcement
# ecosystem {
#   enforce_permissions = 1
# }


##################################
###       WORKSPACES           ###
##################################

# Custom workspace settings (useful for TV or full-screen)
workspace = w[tv1], gapsout:0, gapsin:0     # Example: TV workspace with no gaps
workspace = f[1], gapsout:0, gapsin:0       # Example: fullscreen workspace


##################################
###         LAYOUTS            ###
##################################

# Dwindle layout (default tiling layout)
dwindle {
    pseudotile = true         # Allow pseudotiling (window keeps its size)
    preserve_split = true     # Preserve split layout when resizing/moving
}

# Master layout (optional)
master {
    new_status = master       # New windows open in master stack
}

##################################
###        INPUT SETTINGS       ###
##################################

input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1                  # Focus window when hovering
    sensitivity = 0                   # -1.0 to 1.0 (0 = normal)

    touchpad {
        natural_scroll = false        # Disable natural scrolling
    }
}

# Mouse gestures (3-finger horizontal swipe to switch workspaces)
gesture = 3, horizontal, workspace

# Device-specific input tweaks
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}


misc {
    force_default_wallpaper = 0
}
