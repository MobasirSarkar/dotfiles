##########################
###    VARIABLES       ###
##########################

# Import variables from external file
source = ~/.config/hypr/variables.conf

# Modifiers
$mainMod = ALT       # Main modifier key (primary keybinds)
$altMod  = SUPER     # Alternate modifier (for secondary actions)

##########################
###    CORE BINDS      ###
##########################

# Launch applications
bind = $mainMod, RETURN, exec, $terminal            # Launch terminal
bind = $mainMod, E, exec, $fileManager              # Launch file manager
bind = $mainMod SHIFT, F, exec, $browser            # Launch browser
bind = $mainMod, D, exec, $menu                     # Launch application launcher

# System control
bind = $mainMod SHIFT, Q, killactive,               # Close focused window
bind = $mainMod, M, exit,                           # Logout / exit Hyprland
bind = $altMod SHIFT, ESCAPE, exec, hyprlock        # Lock screen

##########################
###    WINDOW CONTROL  ###
##########################

# Toggle floating mode
bind = $mainMod, SPACE, togglefloating,

# Dwindle layout tweaks
bind = $mainMod SHIFT, V, pseudo,                   # Toggle pseudo-split
bind = $altMod, J, togglesplit,                     # Toggle split layout

# Move window focus
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Move windows in direction
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, j, movewindow, d

##########################
###   WORKSPACES       ###
##########################

# Switch to workspace
bind = $mainMod, I, workspace, 1
bind = $mainMod, O, workspace, 2
bind = $mainMod, P, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move focused window to workspace
bind = $mainMod SHIFT, I, movetoworkspace, 1
bind = $mainMod SHIFT, O, movetoworkspace, 2
bind = $mainMod SHIFT, P, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Special workspaces (scratchpads)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Scroll through workspaces with mouse
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

##########################
###    MOUSE BINDINGS   ###
##########################

# Move/resize windows with mouse drag
bindm = $mainMod, mouse:272, movewindow            # Left-click drag = move
bindm = $mainMod, mouse:273, resizewindow          # Right-click drag = resize

##########################
###   WINDOW RESIZE     ###
##########################

# Enter resize mode
bind = $mainMod, R, submap, resize

submap = resize
  bind = , h, resizeactive, -20 0    # Resize left
  bind = , l, resizeactive, 20 0     # Resize right
  bind = , k, resizeactive, 0 -20    # Resize up
  bind = , j, resizeactive, 0 20     # Resize down
  bind = , ESCAPE, submap, reset     # Exit resize mode
  bind = , RETURN, submap, reset
submap = reset

##########################
###   NOTIFICATIONS     ###
##########################

# Requires swaync to be running (see note below)
bind = $altMod SHIFT, N, exec, swaync-client -C     # Dismiss all notifications
bind = $altMod, N, exec, swaync-client -t -sw       # Toggle notification center

# TIP: Make sure swaync autostarts!
# Add this line to ~/.config/hypr/hyprland.conf:
#   exec-once = swaync

##########################
###   SCREENSHOTS       ###
##########################

bind = , Print, exec, ~/.config/hypr/scripts/screenshot.sh            # Fullscreen screenshot
bind = SHIFT, Print, exec, ~/.config/hypr/scripts/screenshot-area.sh  # Area selection
bind = CTRL, Print, exec, grim -g "$(slurp)" - | swappy -f -         # Area + annotate

##########################
###   SYSTEM CONTROLS   ###
##########################

# Restart Waybar
bind = $altMod SHIFT, W, exec, pkill waybar && waybar &

# Audio controls (using wpctl)
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Media keys (playerctl)
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# Brightness controls (notify-send feedback)
bind = , XF86MonBrightnessUp, exec, bash -c 'brightnessctl -d intel_backlight set 5%+; percent=$(( $(brightnessctl -d intel_backlight g) * 100 / $(brightnessctl -d intel_backlight m) )); notify-send "Brightness: ${percent}%"'
bind = , XF86MonBrightnessDown, exec, bash -c 'brightnessctl -d intel_backlight set 5%-; percent=$(( $(brightnessctl -d intel_backlight g) * 100 / $(brightnessctl -d intel_backlight m) )); notify-send "Brightness: ${percent}%"'

# wallapapers

bind = $mainMod, W, exec, ~/.config/hypr/scripts/wallpaper.sh # Select wallpaper to apply
